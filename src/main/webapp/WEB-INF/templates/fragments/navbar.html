<div th:fragment="navbar">
    <nav class="navbar navbar-expand-lg navbar-dark" 
         style="background-color: #000000; 
         
         
         border-bottom: 1.5px solid rgba(138, 43, 226, 0.4); /* Neon dark purple (like BlueViolet) */
         box-shadow: 0 0 8px rgba(138, 43, 226, 0.2); /* subtle glow */
         border-radius: 0;
         transition: all 0.3s ease;
         background-color: #000000; /* optional for dark themes */
         color: #fff; /* optional: for text contrast */
         
         ">
        <div class="container-fluid py-2">

            <!-- Brand -->
            <a class="navbar-brand text-light" th:href="@{/}" style="font-weight: 700!important;">
                <strong>404BooksNotFound</strong>
            </a>

            <!-- Mobile Toggle -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Navbar Content -->
            <div class="collapse navbar-collapse" id="navbarSupportedContent">

                <!-- Left Menu -->
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link text-light" th:href="@{/}">Home</a>
                    </li>
                </ul>

                <!-- Right Menu -->
                <ul class="navbar-nav d-flex align-items-center gap-2">
                    <!--<li class="nav-item">
                        
                        <form class="d-flex" th:action="@{/search}" method="get">
                            <input class="form-control form-control-sm me-2" name="query" type="search"
                                   placeholder="Search" aria-label="Search"
                                   style="background-color: #1e1e1e; color: #ccc; border: 1px solid #444;">
                            <button class="btn btn-sm btn-outline-secondary" type="submit">Search</button>
                        </form>
                        
                    </li>-->

                    <li th:if="${session.loggedInUser == null}" class="nav-item">
                        <a class="btn btn-outline-light btn-sm" th:href="@{/login}">Login</a>
                    </li>
                    <li th:if="${session.loggedInUser == null}" class="nav-item">
                        <a class="btn btn-success btn-sm" th:href="@{/register}">Sign Up</a>
                    </li>

                    <li class="nav-item dropdown" th:if="${session.loggedInUser != null}">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                          Welcome, <span th:text="${session.loggedInUser.name.split(' ')[0]}">User</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                          <li><a class="dropdown-item" th:href="@{/profile}">My Profile</a></li>
                          <li><a class="dropdown-item" th:href="@{/logout}">Logout</a></li>
                        </ul>
                    </li>

                    <li class="nav-item" th:if="${session.loggedInUser != null}">
                        <a class="nav-link" th:href="@{/cart}">ðŸ›’ Cart</a>
                    </li>
                </ul>

            </div>
        </div>
    </nav>
</div>
